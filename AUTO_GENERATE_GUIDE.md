# 構造式自動生成ガイド

スプレッドシートの化合物データから、構造式（atoms/bonds）を自動生成するツールを用意しました。

## 使用方法

### 方法1: ブラウザで実行（推奨）

1. `scripts/generateStructures.html` をブラウザで開く
2. 「データを取得して構造式を生成」ボタンをクリック
3. 生成されたCSVデータをコピー
4. スプレッドシートに貼り付けて更新

### 方法2: Node.jsで実行

```bash
node scripts/generateStructures.js > output.csv
```

**注意**: Node.js 18+が必要です（fetch APIを使用）

## 対応している化合物タイプ

現在、以下のタイプの化合物の構造式を自動生成できます：

- **アルカン**（直鎖）: メタン、エタン、プロパン、ブタンなど
- **アルケン**（二重結合）: エチレン、プロピレンなど
- **アルキン**（三重結合）: アセチレンなど

## 生成ロジック

### アルカン（直鎖）

- 炭素原子を一直線に配置
- 各炭素に3つの水素原子を配置（端の炭素は3つ、中間の炭素は2つ）
- すべて単結合

### アルケン（二重結合）

- 最初の2つの炭素間に二重結合
- 二重結合の炭素には上下に水素を配置
- その他の炭素は通常の配置

### アルキン（三重結合）

- 最初の2つの炭素間に三重結合
- 三重結合の炭素には左右に水素を配置
- その他の炭素は通常の配置

## 制限事項

現在の自動生成ツールは、以下の化合物タイプには対応していません：

- アルコール（OH基を持つ化合物）
- アルデヒド、ケトン（C=O基を持つ化合物）
- カルボン酸（COOH基を持つ化合物）
- エーテル（O原子を含む化合物）
- 芳香族化合物（ベンゼン環など）
- ハロゲン化化合物（Cl、Br、Iを含む化合物）
- その他の官能基を持つ化合物

これらの化合物については、手動で構造式データを作成する必要があります。

## 今後の拡張

以下の機能を追加予定：

1. **アルコールの自動生成**: OH基の位置を指定して生成
2. **アルデヒド・ケトンの自動生成**: C=O基の位置を指定して生成
3. **ハロゲン化化合物の自動生成**: ハロゲン原子の位置を指定して生成
4. **ベンゼン環の自動生成**: 置換基の位置を指定して生成

## トラブルシューティング

### 構造式が生成されない

- 化合物名が正確か確認
- 化合物タイプが「アルカン」「アルケン」「アルキン」を含んでいるか確認
- 化学式に炭素数（C1, C2など）が含まれているか確認

### 生成された構造式が正しくない

- 複雑な化合物の場合は、手動で調整が必要な場合があります
- 座標を微調整して、見やすくしてください

### エラーが発生する

- ブラウザのコンソール（F12）でエラーメッセージを確認
- GAS URLが正しいか確認
- スプレッドシートのデータ形式が正しいか確認

